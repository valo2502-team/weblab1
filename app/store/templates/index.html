{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Team Shop Client</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>
<body>

    <div id="degraded-banner">‚ö†Ô∏è System overloaded. Degraded Mode enabled.</div>

    <h2>üõçÔ∏è Shop Client</h2>
    
    <div style="margin-bottom: 10px;">
        <button id="btn_load" class="api-btn btn-add">Load Items</button>
        <button id="btn_toggle_list" class="api-btn btn-test" onclick="toggleList()">Hide list</button>
        <button id="btn_health" class="api-btn btn-test">Check Health (Timeout 1s)</button>
    </div>

    <ul id="list"></ul>
    
    <div id="status-area">Waiting for actions...</div>

    <hr>
    <h3>Testing (Simulation):</h3>
    <button id="btn_500" class="api-btn btn-test">Test 500 (Retry & Degraded)</button>
    <button id="btn_429" class="api-btn btn-test">Test 429 (Rate Limit)</button>
    <button id="btn_timeout" class="api-btn btn-test">Test Timeout (Server sleeps 2s)</button>
    <hr>

    <script src="{% static 'js/script.js' %}"></script>
    
    <script>
        // --- List Visibility Toggle ---
        function toggleList() {
            const list = document.getElementById("list");
            const btn = document.getElementById("btn_toggle_list");
            
            if (list.style.display === "none") {
                list.style.display = "block";
                btn.textContent = "Hide list";
            } else {
                list.style.display = "none";
                btn.textContent = "Show list";
            }
        }
    </script>
</body>
</html>